# 项目策划与需求分析文档

- **项目名称:** `MarkView` / `PasteLook` (暂定)
- **文档版本:** V1.1
- **创建日期:** 2025年8月7日
- **创建人:** Gemini & [您的姓名/团队]

---

### 1. 项目概述 (Project Overview)

#### 1.1 项目愿景 (Vision)
打造一款极致简单的桌面工具，让任何不了解 Markdown 或计算机文件格式的普通用户，都能毫不费力地查看 Markdown 文本的排版效果（无论是通过粘贴文本还是直接打开.md文件），并将其导出为通用的 PDF 文档。

#### 1.2 目标用户 (Target Audience)
- **核心用户:** 对技术不了解的普通办公人员、学生、内容创作者。他们可能从朋友或同事那里收到一段包含 Markdown 格式的文本（例如在聊天软件或邮件中），但不知道如何正确地查看它。
- **次要用户:** 了解 Markdown 的开发者或技术人员，需要一个快速、轻量的“草稿纸”来预览文本片段。

#### 1.3 解决的核心问题 (Problem Statement)
当前，查看 Markdown 格式的文本通常需要专用的编辑器或了解其文件格式（`.md`）。这对于非技术用户构成了巨大的使用门槛。本项目旨在彻底消除这一门槛，将操作简化为用户最熟悉的"复制粘贴"或"双击打开文件"等基础操作。

---

### 2. 功能性需求 (Functional Requirements)

| ID    | 需求名称                 | 详细描述                                                                                                                                                             | 优先级 |
| :---- | :----------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----- |
| **FR1** | **核心粘贴与实时预览功能** | - 应用主界面应为左右分栏布局。<br>- 用户向左侧输入区粘贴或输入任何文本时，右侧预览区必须**实时、自动地**渲染成最终效果。<br>- 渲染应支持 CommonMark 及 GFM 扩展。        | **最高** |
| **FR2** | **PDF 导出功能** | - 应用需提供清晰可见的“导出为 PDF”按钮。<br>- 点击后，调用操作系统的打印对话框，用户可选择“另存为 PDF”将**预览区内容**保存下来。                                         | **最高** |
| **FR3** | **内容清空功能** | - 应用需提供“清空内容”按钮。<br>- 点击后，输入和预览区恢复到初始欢迎状态。                                                                                             | **高** |
| **FR4** | **文件打开功能 (辅助)** | - 应用需提供一个**非干扰性**的"从文件打开"入口（如文字链接或按钮）。<br>- 点击后，调用系统文件选择对话框，用户可选择本地 `.md` 或 `.txt` 文件。<br>- 选中文件后，自动将文件内容载入到左侧输入区，右侧预览区同步显示渲染效果。<br>- 支持拖拽文件到应用窗口直接打开。<br>- 打开文件后，应用标题栏显示当前文件名（可选）。 | **中** |
| **FR5** | **初始状态引导** | - 应用首次启动或内容被清空时，界面应有清晰的引导性文字（如"请将文本粘贴至此"），而非空白界面。                                                                         | **高** |
| **FR6** | **阅读模式切换** | - 应用需提供"阅读模式"切换功能，适合小屏幕设备使用。<br>- 阅读模式下，隐藏左侧编辑区域，预览区域占用全部可用空间。<br>- 提供明显的"退出阅读模式"按钮返回编辑状态。<br>- 支持快捷键切换（如F11或Ctrl+R）。<br>- 阅读模式下仍可进行PDF导出等操作。 | **中** |

---

### 3. 非功能性需求 (Non-Functional Requirements)

| ID     | 需求类别              | 详细描述                                                                 |
| :----- | :-------------------- | :----------------------------------------------------------------------- |
| **NFR1** | **性能 (Performance)** | - 应用应实现秒级启动。<br>- 文本输入与预览渲染之间的延迟应做到无感。         |
| **NFR2** | **易用性 (Usability)** | - 核心操作不超过两步（粘贴 -> 导出）。<br>- 界面语言避免技术术语，开箱即用。 |
| **NFR3** | **兼容性 (Compatibility)** | - 必须能在 Windows, macOS, 和 Linux 上原生运行。                          |
| **NFR4** | **轻量化 (Lightweight)** | - 最终打包后的应用安装包体积应保持在数 MB 以内。                           |

---

### 4. 用户界面与体验设计 (UI/UX Design)

#### 4.1 布局 (Layout)
- **顶部工具栏:** 放置全局操作按钮，如"导出"、"清空"、"阅读模式"等。
- **主工作区:** 采用左右等分的双栏布局。左侧为文本输入面板，右侧为格式化预览面板。
- **阅读模式布局:** 隐藏左侧编辑区域，预览区域占用全部可用空间，顶部工具栏保留核心功能按钮（导出、退出阅读模式等）。

#### 4.2 用户工作流 (User Flow)

**主要工作流（粘贴模式）:**
`[启动应用]` -> `[看到引导文字]` -> `[粘贴文本到左侧面板]` -> `[右侧面板即时显示格式化效果]` -> `(可选)点击"导出为 PDF"` -> `[任务完成]`

**辅助工作流（文件打开模式）:**
`[启动应用]` -> `[点击"从文件打开"或拖拽文件]` -> `[选择.md/.txt文件]` -> `[文件内容自动载入左侧面板]` -> `[右侧面板即时显示格式化效果]` -> `(可选)点击"导出为 PDF"` -> `[任务完成]`

**阅读模式工作流（小屏幕优化）:**
`[完成内容输入/文件打开]` -> `[点击"阅读模式"按钮或按快捷键]` -> `[左侧编辑区隐藏，预览区全屏显示]` -> `[专注阅读内容]` -> `(可选)导出PDF或退出阅读模式` -> `[任务完成]`

---

### 5. 技术栈 (Technical Stack)

- **核心框架:** **Tauri** (提供跨平台能力)
- **构建工具:** **Vite** (提供极速前端开发体验)
- **前端框架:** **React (v18+)** (用于构建组件化的用户界面)
- **编程语言:** **TypeScript** (提供类型安全，增强代码健壮性)
- **CSS 框架:** **Tailwind CSS** (用于快速构建自定义的原子化样式)
- **UI 组件库:** **shadcn/ui** (提供设计精良、高可定制性的 UI 组件)
- **Markdown 解析:** **`marked.js`** (用于将 Markdown 文本解析为 HTML)

---

### 6. 项目范围定义 (Scope Definition)

#### 6.1 范围内 (In-Scope for MVP)
- 本文档 `2. 功能性需求` 中优先级为 **最高** 和 **高** 的全部功能 (FR1, FR2, FR3, FR5)。

#### 6.2 范围外 (Out-of-Scope for MVP)
- 多主题切换（如暗黑/明亮模式之外的主题）。
- 字体、字号等高级编辑器设置。
- 多标签页文件管理。
- 云同步功能。
- 插件系统。
- 除 PDF 之外的其他导出格式 (如 PNG, Word)。
- FR4 (文件打开功能) 和 FR6 (阅读模式切换) 可作为 MVP 后的优先功能。